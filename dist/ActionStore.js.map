{"version":3,"sources":["../dist-es6/ActionStore.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","ActionStore","toDoStore","successStore","errorStore","args","action","func","setReturnData","console","log","dispatch","returnData","setError"],"mappings":";;;;;;;;;AAQA;;AACA;;;;;;;;AATA,IAAIA,YAAa,aAAQ,UAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAAO,KAAKD,MAAMA,IAAIE,OAAV,CAAL,EAAyB,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,iBAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,gBAAI;AAAEC,qBAAKN,UAAUO,IAAV,CAAeF,KAAf,CAAL;AAA8B,aAApC,CAAqC,OAAOG,CAAP,EAAU;AAAEL,uBAAOK,CAAP;AAAY;AAAE;AAC3F,iBAASC,QAAT,CAAkBJ,KAAlB,EAAyB;AAAE,gBAAI;AAAEC,qBAAKN,UAAU,OAAV,EAAmBK,KAAnB,CAAL;AAAkC,aAAxC,CAAyC,OAAOG,CAAP,EAAU;AAAEL,uBAAOK,CAAP;AAAY;AAAE;AAC9F,iBAASF,IAAT,CAAcI,MAAd,EAAsB;AAAEA,mBAAOC,IAAP,GAAcT,QAAQQ,OAAOL,KAAf,CAAd,GAAsC,IAAIN,CAAJ,CAAM,UAAUG,OAAV,EAAmB;AAAEA,wBAAQQ,OAAOL,KAAf;AAAwB,aAAnD,EAAqDO,IAArD,CAA0DR,SAA1D,EAAqEK,QAArE,CAAtC;AAAuH;AAC/IH,aAAK,CAACN,YAAYA,UAAUa,KAAV,CAAgBhB,OAAhB,EAAyBC,cAAc,EAAvC,CAAb,EAAyDS,IAAzD,EAAL;AACH,KALM,CAAP;AAMH,CAPD;;IAUaO,W,WAAAA,W;AACT,2BAAc;AAAA;;AACV,aAAKC,SAAL,GAAiB,yBAAjB;AACA,aAAKC,YAAL,GAAoB,yBAApB;AACA,aAAKC,UAAL,GAAkB,yBAAlB;AACH;;;;mCACUC,I,EAAM;AACb,mBAAOtB,UAAU,IAAV,EAAgB,KAAK,CAArB,EAAwB,KAAK,CAA7B,0BAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BuB,sCAD6B,GACpB,4BAAoBD,IAApB,CADoB;AAAA;AAAA,8CAG/BC,MAH+B;AAAA;AAAA,uCAGJA,OAAOC,IAAP,CAAYD,OAAOD,IAAnB,CAHI;;AAAA;AAAA;;AAAA,4CAGxBG,aAHwB;;AAI/BC,wCAAQC,GAAR,CAAY,wCAAZ,EAAsDJ,MAAtD;AACA,qCAAKH,YAAL,CAAkBQ,QAAlB,CAA2BL,MAA3B;AAL+B,iEAMxBlB,QAAQC,OAAR,CAAgBiB,OAAOM,UAAvB,CANwB;;AAAA;AAAA;AAAA;;AAS/BN,uCAAOO,QAAP;AACAJ,wCAAQC,GAAR,CAAY,+CAAZ;AACA,qCAAKN,UAAL,CAAgBO,QAAhB,CAAyBL,MAAzB;AAX+B,iEAYxBlB,QAAQE,MAAR,CAAegB,MAAf,CAZwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAhC,EAAP;AAeH;;;;;AAEL","file":"ActionStore.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ActionExecution } from './Action';\nimport BaseStore from './BaseStore';\nexport class ActionStore {\n    constructor() {\n        this.toDoStore = new BaseStore();\n        this.successStore = new BaseStore();\n        this.errorStore = new BaseStore();\n    }\n    execAction(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const action = new ActionExecution(args);\n            try {\n                action.setReturnData(yield action.func(action.args));\n                console.log('Action.exectAction after setReturnData', action);\n                this.successStore.dispatch(action);\n                return Promise.resolve(action.returnData);\n            }\n            catch (e) {\n                action.setError(e);\n                console.log('$$$ $$$ $$$ $$$ Dispatcinh error $$$ $$$ $$$ ');\n                this.errorStore.dispatch(action);\n                return Promise.reject(action);\n            }\n        });\n    }\n}\n//# sourceMappingURL=ActionStore.js.map"]}